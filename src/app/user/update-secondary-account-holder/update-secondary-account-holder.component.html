<div *ngIf="currentSecAccountHolder" class="container">
  <div class="row mt-5">
    <div class="col text-center">
      <h2>Update Your Secondary Account Holder</h2>
    </div>
  </div>
  <div class="row mt-5">
    <div class="col-md-1 col-lg-2"></div>
    <div class="col-sm-12 col-md-10 col-lg-8">
      <p><b>Current Information On File</b></p>
      <p>
        <span *ngIf="currentSecAccountHolder.firstName"
          ><b>First Name: </b>{{ currentSecAccountHolder.firstName }}</span
        >
        <br *ngIf="currentSecAccountHolder.firstName" />
        <span *ngIf="currentSecAccountHolder.lastName"><b>Last Name: </b>{{ currentSecAccountHolder.lastName }}</span>
        <br *ngIf="currentSecAccountHolder.lastName" />
        <span *ngIf="currentSecAccountHolder.relationshipToPrimary"
          ><b>Relationship To Primary: </b>{{ currentSecAccountHolder.relationshipToPrimary }}</span
        >
        <br *ngIf="currentSecAccountHolder.relationshipToPrimary" />
        <span *ngIf="currentSecAccountHolder.preferredName"
          ><b>Preferred Name: </b>{{ currentSecAccountHolder.preferredName }}</span
        >
        <br *ngIf="currentSecAccountHolder.preferredName" />
        <span *ngIf="currentSecAccountHolder.pronouns"><b>Pronouns: </b>{{ currentSecAccountHolder.pronouns }}</span>
        <br *ngIf="currentSecAccountHolder.pronouns" />
        <span *ngIf="currentSecAccountHolder.gender"><b>Gender: </b>{{ currentSecAccountHolder.gender }}</span>
        <br *ngIf="currentSecAccountHolder.gender" />
        <span *ngIf="currentSecAccountHolder.maritalStatus"
          ><b>Marital Status: </b>{{ currentSecAccountHolder.maritalStatus }}</span
        >
        <br *ngIf="currentSecAccountHolder.maritalStatus" />
        <span *ngIf="currentSecAccountHolder.email"><b>Email: </b>{{ currentSecAccountHolder.email }}</span>
        <br *ngIf="currentSecAccountHolder.email" />
        <span *ngIf="currentSecAccountHolder.secAccountHolderPhone"
          ><b>Phone Number: </b>{{ currentSecAccountHolder.secAccountHolderPhone.phoneNumber }}</span
        >
        <br *ngIf="currentSecAccountHolder.secAccountHolderPhone" />
        <span *ngIf="currentSecAccountHolder.secAccountHolderPhone"
          ><b>Phone Number Type: </b>{{ currentSecAccountHolder.secAccountHolderPhone.type }}</span
        >
        <br *ngIf="currentSecAccountHolder.secAccountHolderPhone" />
      </p>
      <small>Any fields that are not filled out will not be updated.</small>
    </div>
  </div>
  <form [formGroup]="updateSecAccountHolderForm">
    <div class="row secondary-account-holder-row mt-5">
      <div class="col-sm-12">
        <div class="row secNameRow">
          <div class="col-sm-12 col-md-6">
            <div class="form-group">
              <label for="firstName"><b>First Name</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="firstName"
                placeholder="Enter first name"
                formControlName="firstName"
              />
            </div>
          </div>
          <div class="col-sm-12 col-md-6">
            <div class="form-group">
              <label for="lastName"><b>Last Name</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="lastName"
                placeholder="Enter Last Name"
                formControlName="lastName"
              />
            </div>
          </div>
        </div>
        <div class="row sec-pref-name-row">
          <div class="col-xs-12 col-sm-12, col-md-6">
            <div class="form-group">
              <label for="preferredName"><b>Preferred Name</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="preferredName"
                placeholder="Enter preferred name"
                formControlName="preferredName"
              />
            </div>
          </div>
        </div>
        <div class="row sec-gender-pronouns-marital-row">
          <div class="col-sm-6 col-md-4 my-auto">
            <div class="form-group my-auto">
              <label for="gender"><b>Gender</b></label>
              <select
                class="m-3 form-select"
                name="gender"
                id="gender"
                formControlName="gender"
                style="border-top: 0px; border-right: 0px; border-left: 0px"
              >
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>
          <div class="col-sm-6 col-md-4">
            <div class="form-group">
              <label class="mt-4" for="pronouns"><b>Pronouns</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="pronouns"
                placeholder="Enter their pronouns (e.g. she/her)"
                formControlName="pronouns"
              />
            </div>
          </div>
          <div class="col-sm-6 col-md-4 my-auto">
            <div class="form-group my-auto">
              <label for="maritalStatus"><b>Marital Status</b></label>
              <select
                class="m-3 form-select"
                name="maritalStatus"
                id="maritalStatus"
                formControlName="maritalStatus"
                style="border-top: 0px; border-right: 0px; border-left: 0px"
              >
                <option value="Married">Married</option>
                <option value="Single">Single</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>
        </div>
        <div class="row sec-contact-row">
          <div class="col-sm-12 col-md-6">
            <div class="form-group">
              <label for="email"><b>Email</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="email"
                placeholder="Enter email"
                formControlName="email"
              />
              <div
                *ngIf="
                  updateSecAccountHolderForm.get('email')?.invalid &&
                  (updateSecAccountHolderForm.get('email')?.dirty || updateSecAccountHolderForm.get('email')?.touched)
                "
              >
                <small *ngIf="updateSecAccountHolderForm.get('email')?.errors?.email" class="input-error"
                  >Please enter a valid email.<br
                /></small>
              </div>
            </div>
          </div>
          <div class="col-sm-8 col-md-4">
            <label for="secAccountHolderPhone"><b>Phone Number</b></label>
            <input
              class="form-control p-1 ml-0 bottom-border-input"
              type="tel"
              id="secAccountHolderPhone"
              placeholder="Enter phone number"
              formControlName="secAccountHolderPhone"
            />
            <div
              *ngIf="
                updateSecAccountHolderForm.get('secAccountHolderPhone')?.invalid &&
                (updateSecAccountHolderForm.get('secAccountHolderPhone')?.dirty ||
                  updateSecAccountHolderForm.get('secAccountHolderPhone')?.touched)
              "
            >
              <small
                *ngIf="updateSecAccountHolderForm.get('secAccountHolderPhone')?.errors?.invalidPhone"
                class="input-error"
                >Please enter a valid phone number.<br
              /></small>
            </div>
          </div>
          <div class="col-sm-4 col-md-2">
            <div class="form-group">
              <label for="secAccountHolderPhoneType"><b>Type</b></label>
              <select
                class="m-3 form-select"
                name="type"
                id="secAccountHolderPhoneType"
                formControlName="secAccountHolderPhoneType"
                style="border-top: 0px; border-right: 0px; border-left: 0px"
              >
                <option *ngFor="let phoneType of PHONE_TYPES" [value]="phoneType">
                  {{ phoneType }}
                </option>
              </select>
              <div
                *ngIf="
                  updateSecAccountHolderForm.get('secAccountHolderPhoneType')?.invalid &&
                  (updateSecAccountHolderForm.get('secAccountHolderPhoneType')?.dirty ||
                    updateSecAccountHolderForm.get('secAccountHolderPhoneType')?.touched)
                "
              >
                <small
                  *ngIf="updateSecAccountHolderForm.get('secAccountHolderPhoneType')?.errors?.required"
                  class="input-error"
                  >Please select a phone number type.<br
                /></small>
              </div>
            </div>
          </div>
        </div>
        <div class="row sec-relation-row">
          <div class="col-sm-12 col-md-6">
            <div class="form-group">
              <label for="relationshipToPrimary"><b>Relationship to Primary Account Holder</b></label>
              <input
                class="form-control p-1 m-0 bottom-border-input"
                id="relationshipToPrimary"
                placeholder="Enter relationship"
                formControlName="relationshipToPrimary"
              />
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
  <div class="row my-5">
    <div class="col-md-3 col-lg-4"></div>
    <div class="col-sm-12 col-md-6 col-lg-4">
      <button class="btn btn-primary text-white w-100" [disabled]="submittingForm" (click)="onSubmit()">
        Update Secondary Account Holder
      </button>
    </div>
  </div>
</div>
